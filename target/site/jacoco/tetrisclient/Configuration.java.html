<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>Configuration.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">JavaTetrisClient</a> &gt; <a href="index.source.html" class="el_package">tetrisclient</a> &gt; <span class="el_source">Configuration.java</span></div><h1>Configuration.java</h1><pre class="source lang-java linenums">package tetrisclient;

import javafx.geometry.Insets;
import javafx.geometry.Pos;
import javafx.scene.Scene;
import javafx.scene.control.Button;
import javafx.scene.control.CheckBox;
import javafx.scene.control.Label;
import javafx.scene.control.Slider;
import javafx.scene.layout.BorderPane;
import javafx.scene.layout.GridPane;
import javafx.scene.layout.HBox;
import javafx.scene.text.Font;
import javafx.scene.text.FontWeight;
import javafx.stage.Stage;

<span class="nc" id="L17">public class Configuration {</span>

    public static void show(Stage stage, Runnable onBack) {
        // Labels for displaying current values
<span class="fc" id="L21">        Label widthValue = new Label(String.valueOf(Main.getColumns()));</span>
<span class="fc" id="L22">        Label heightValue = new Label(String.valueOf(Main.getRows()));</span>
<span class="fc" id="L23">        Label levelValue = new Label(String.valueOf(Main.getLEVEL()));</span>
<span class="pc bpc" id="L24" title="1 of 2 branches missed.">        Label musicValue = new Label(Main.isMUSIC() ? &quot;ON&quot; : &quot;OFF&quot;);</span>
<span class="pc bpc" id="L25" title="1 of 2 branches missed.">        Label soundValue = new Label(Main.isSOUND_EFFECTS() ? &quot;ON&quot; : &quot;OFF&quot;);</span>
<span class="pc bpc" id="L26" title="1 of 2 branches missed.">        Label aiValue = new Label(Main.isAI_PLAY() ? &quot;ON&quot; : &quot;OFF&quot;);</span>
<span class="pc bpc" id="L27" title="1 of 2 branches missed.">        Label extendValue = new Label(Main.isEXTEND_MODE() ? &quot;ON&quot; : &quot;OFF&quot;);</span>

        // Sliders
<span class="fc" id="L30">        Slider widthSlider = new Slider(5, 15, Main.getColumns());</span>
<span class="fc" id="L31">        widthSlider.setMajorTickUnit(1);</span>
<span class="fc" id="L32">        widthSlider.setSnapToTicks(true);</span>
<span class="fc" id="L33">        widthSlider.setShowTickMarks(true);</span>
<span class="fc" id="L34">        widthSlider.setShowTickLabels(true);</span>
<span class="fc" id="L35">        widthSlider.valueProperty().addListener((obs, oldVal, newVal) -&gt; {</span>
<span class="nc" id="L36">            Main.setColumns(newVal.intValue());</span>
<span class="nc" id="L37">            widthValue.setText(String.valueOf(Main.getColumns()));</span>
<span class="nc" id="L38">        });</span>

<span class="fc" id="L40">        Slider heightSlider = new Slider(15, 30, Main.getRows());</span>
<span class="fc" id="L41">        heightSlider.setMajorTickUnit(1);</span>
<span class="fc" id="L42">        heightSlider.setSnapToTicks(true);</span>
<span class="fc" id="L43">        heightSlider.setShowTickMarks(true);</span>
<span class="fc" id="L44">        heightSlider.setShowTickLabels(true);</span>
<span class="fc" id="L45">        heightSlider.valueProperty().addListener((obs, oldVal, newVal) -&gt; {</span>
<span class="nc" id="L46">            Main.setRows(newVal.intValue());</span>
<span class="nc" id="L47">            heightValue.setText(String.valueOf(Main.getRows()));</span>
<span class="nc" id="L48">        });</span>

<span class="fc" id="L50">        Slider levelSlider = new Slider(1, 10, Main.getLEVEL());</span>
<span class="fc" id="L51">        levelSlider.setMajorTickUnit(1);</span>
<span class="fc" id="L52">        levelSlider.setSnapToTicks(true);</span>
<span class="fc" id="L53">        levelSlider.setShowTickMarks(true);</span>
<span class="fc" id="L54">        levelSlider.setShowTickLabels(true);</span>
<span class="fc" id="L55">        levelSlider.valueProperty().addListener((obs, oldVal, newVal) -&gt; {</span>
<span class="nc" id="L56">            Main.setLEVEL(newVal.intValue());</span>
<span class="nc" id="L57">            levelValue.setText(String.valueOf(Main.getLEVEL()));</span>
<span class="nc" id="L58">        });</span>

        // Checkboxes
<span class="fc" id="L61">        CheckBox musicCheck = new CheckBox();</span>
<span class="fc" id="L62">        musicCheck.setSelected(Main.isMUSIC());</span>
<span class="fc" id="L63">        musicCheck.selectedProperty().addListener((obs, oldVal, newVal) -&gt; {</span>
<span class="nc" id="L64">            Main.setMUSIC(newVal);</span>
<span class="nc bnc" id="L65" title="All 2 branches missed.">            musicValue.setText(newVal ? &quot;ON&quot; : &quot;OFF&quot;);</span>
<span class="nc bnc" id="L66" title="All 2 branches missed.">            if(newVal) AudioManager.playBackgroundMusic();</span>
<span class="nc" id="L67">            else AudioManager.stopBackgroundMusic();</span>
<span class="nc" id="L68">        });</span>

<span class="fc" id="L70">        CheckBox soundCheck = new CheckBox();</span>
<span class="fc" id="L71">        soundCheck.setSelected(Main.isSOUND_EFFECTS());</span>
<span class="fc" id="L72">        soundCheck.selectedProperty().addListener((obs, oldVal, newVal) -&gt; {</span>
<span class="nc" id="L73">            Main.setSOUND_EFFECTS(newVal);</span>
<span class="nc bnc" id="L74" title="All 2 branches missed.">            soundValue.setText(newVal ? &quot;ON&quot; : &quot;OFF&quot;);</span>
<span class="nc" id="L75">        });</span>

<span class="fc" id="L77">        CheckBox aiCheck = new CheckBox();</span>
<span class="fc" id="L78">        aiCheck.setSelected(Main.isAI_PLAY());</span>
<span class="fc" id="L79">        aiCheck.selectedProperty().addListener((obs, oldVal, newVal) -&gt; {</span>
<span class="nc" id="L80">            Main.setAI_PLAY(newVal);</span>
<span class="nc bnc" id="L81" title="All 2 branches missed.">            aiValue.setText(newVal ? &quot;ON&quot; : &quot;OFF&quot;);</span>
<span class="nc" id="L82">        });</span>

<span class="fc" id="L84">        CheckBox extendCheck = new CheckBox();</span>
<span class="fc" id="L85">        extendCheck.setSelected(Main.isEXTEND_MODE());</span>
<span class="fc" id="L86">        extendCheck.selectedProperty().addListener((obs, oldVal, newVal) -&gt; {</span>
<span class="nc" id="L87">            Main.setEXTEND_MODE(newVal);</span>
<span class="nc bnc" id="L88" title="All 2 branches missed.">            extendValue.setText(newVal ? &quot;ON&quot; : &quot;OFF&quot;);</span>
<span class="nc" id="L89">        });</span>

        // Grid layout
<span class="fc" id="L92">        GridPane grid = new GridPane();</span>
<span class="fc" id="L93">        grid.setHgap(15);</span>
<span class="fc" id="L94">        grid.setVgap(10);</span>
<span class="fc" id="L95">        grid.setAlignment(Pos.CENTER);</span>
<span class="fc" id="L96">        grid.setPadding(new Insets(10));</span>

<span class="fc" id="L98">        grid.add(new Label(&quot;Field Width:&quot;), 0, 0);</span>
<span class="fc" id="L99">        grid.add(widthSlider, 1, 0);</span>
<span class="fc" id="L100">        grid.add(widthValue, 2, 0);</span>

<span class="fc" id="L102">        grid.add(new Label(&quot;Field Height:&quot;), 0, 1);</span>
<span class="fc" id="L103">        grid.add(heightSlider, 1, 1);</span>
<span class="fc" id="L104">        grid.add(heightValue, 2, 1);</span>

<span class="fc" id="L106">        grid.add(new Label(&quot;Game Level:&quot;), 0, 2);</span>
<span class="fc" id="L107">        grid.add(levelSlider, 1, 2);</span>
<span class="fc" id="L108">        grid.add(levelValue, 2, 2);</span>

<span class="fc" id="L110">        grid.add(new Label(&quot;Music:&quot;), 0, 3);</span>
<span class="fc" id="L111">        grid.add(musicCheck, 1, 3);</span>
<span class="fc" id="L112">        grid.add(musicValue, 2, 3);</span>

<span class="fc" id="L114">        grid.add(new Label(&quot;Sound Effect:&quot;), 0, 4);</span>
<span class="fc" id="L115">        grid.add(soundCheck, 1, 4);</span>
<span class="fc" id="L116">        grid.add(soundValue, 2, 4);</span>

<span class="fc" id="L118">        grid.add(new Label(&quot;AI Play:&quot;), 0, 5);</span>
<span class="fc" id="L119">        grid.add(aiCheck, 1, 5);</span>
<span class="fc" id="L120">        grid.add(aiValue, 2, 5);</span>

<span class="fc" id="L122">        grid.add(new Label(&quot;External Player:&quot;), 0, 6);</span>
<span class="fc" id="L123">        grid.add(extendCheck, 1, 6);</span>
<span class="fc" id="L124">        grid.add(extendValue, 2, 6);</span>

        // Back button
<span class="fc" id="L127">        Button backButton = new Button(&quot;Back&quot;);</span>
<span class="pc" id="L128">        backButton.setOnAction(e -&gt; onBack.run());</span>
<span class="fc" id="L129">        grid.add(backButton, 0, 8, 3, 1);</span>
<span class="fc" id="L130">        GridPane.setHalignment(backButton, javafx.geometry.HPos.CENTER);</span>

        // Title
<span class="fc" id="L133">        Label title = new Label(&quot;Configuration&quot;);</span>
<span class="fc" id="L134">        title.setFont(Font.font(&quot;SansSerif&quot;, FontWeight.BOLD, 20));</span>
<span class="fc" id="L135">        HBox top = new HBox(title);</span>
<span class="fc" id="L136">        top.setAlignment(Pos.CENTER);</span>
<span class="fc" id="L137">        top.setPadding(new Insets(10));</span>

        // Layout
<span class="fc" id="L140">        BorderPane root = new BorderPane();</span>
<span class="fc" id="L141">        root.setTop(top);</span>
<span class="fc" id="L142">        root.setCenter(grid);</span>

<span class="fc" id="L144">        Scene configScene = new Scene(root, 500, 400);</span>
<span class="fc" id="L145">        stage.setTitle(&quot;Configuration&quot;);</span>
<span class="fc" id="L146">        stage.setScene(configScene);</span>
<span class="fc" id="L147">    }</span>
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.11.202310140853</span></div></body></html>